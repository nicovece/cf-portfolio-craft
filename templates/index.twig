{% extends '_layouts/base.twig' %}
{% import '_macros' as macros %}

{% block title %}
	{{ entry.title }} - {{ siteName }}
{% endblock %}

{% block content %}
	{# Intro Section #}
	<section class="section-intro section-max-width">
		{% include '_partials/intro-text' with {
			text: entry.introText
		} only %}
	</section>

	{# Projects Section #}
	<section class="section-wrapper mt-0 px-0 pt-24 pb-0">
		<div class="section-max-width">
			<h2 class="text-fs-base mb-4">
				Feel free to poke around my <a href="/projects" class="link-inline">projects</a> or get to know me a bit better <a href="https://cf-portfolio-craft.ddev.site/about" class="link-inline">over
					here</a>
			</h2>
			<h2 class="mb-16 text-2xl">Some quick example if you don't want to click further:</h2>
		</div>
		{% set projects =
			craft.entries().section('projects').slug(
				['nomalyze', 'flicktionary-react-client', 'flicktionary-restful-api', 'happenly-pwa']
			).all()
		%}
		{% if projects|length %}
			<div
				class="bg-dark flex flex-col gap-24 py-24 text-white lg:grid lg:grid-cols-2 lg:gap-12 lg:p-12 xl:gap-16 xl:p-16 2xl:gap-40 2xl:p-24"
			>
				{% for project in projects %}
					{% include '_partials/entry/project-teaser' with {
						entry: project
					} %}
				{% endfor %}
			</div>
		{% else %}
			<p>
				No projects yet.
			</p>
		{% endif %}
	</section>

	{# About Box Section #}
	<div class="bg-darker pt-24 pb-32">
		<section class="about-box section-max-width text-fs-small flex gap-16 text-white">
			{% set aboutImage = entry.profileImage.one() %}
			{% if aboutImage %}
				<div class="about-image-container w-1/3">
					<img
						src="{{
						aboutImage.getUrl({
							width: 1200,
							height: 1200,
							mode: 'crop'
						})
						}}"
						srcset="{{ macros.srcSet(aboutImage, true, '1:1') }}"
						sizes="(min-width: 1024px) 25vw, 50vw"
						alt="{{ entry.calloutTitle }}"
						class="rounded-full object-cover"
						loading="eager"
					/>
				</div>
			{% endif %}
			{% if entry.calloutText %}
				<div class="about-text w-2/3 max-w-2xl pt-8">
					{% include '_partials/about-text' with {
						text: entry.calloutText
					} only %}
				</div>
			{% endif %}
		</section>
	</div>
{% endblock %}
