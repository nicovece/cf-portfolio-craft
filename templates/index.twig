{% extends '_layouts/base.twig' %}
{% import '_macros' as macros %}

{% block title %}
	{{ entry.title }} - {{ siteName }}
{% endblock %}

{% block content %}
	{# Intro Section #}
	<section id="home_intro" class="main main--home">
		<div class="main--home__content">
			<h3 class="main--home__intro">I swear that one day my portfolio will be online, maybe.</h3> <h1>
				<span><strong>Ciao, io sono Nico</strong>.</span> I'm an italian designer and fullstack developer living in Berlin,
				yet another one.
			</h1> <h1>
				<span>We could talk about a lot of things</span> <a href="mailto:m@nicovece.com">m@nicovece.com</a>
				<a href="tel:+4917686712451">+49 176 86712451</a> <a href="tel:+393791494041">+39 379 1494041</a> <!-- <a href="skype:nicovece?call">skype: nicovece</a> -->
			</h1> <h1>
				<span>I probably should work on my social media presence as well</span>
				<a href="https://github.com/nicovece">github</a> <a href="https://www.linkedin.com/in/nicovece/">linkedin</a>
				<a href="https://instagram.com/nicovece">instagram</a> <a href="https://mastodon.social/@nicovece">mastodon</a> <!-- <a href="https://www.flickr.com/photos/lightsumo/">flickr</a> -->
				<!-- <a href="https://twitter.com/nicovece">twitter</a> -->
			</h1> <h1 class="margin-top">
				<span>
					Feel free to poke around my <a href="/cf-portfolio-astro/projects" class="link--intext">projects</a> or get to
					know me a bit better <a href="/cf-portfolio-astro/about" class="link--intext">over here</a>.
				</span>
			</h1>
		</div>
	</section>
	<section class="px-4 py-12 md:px-8 lg:px-12">
		<h1 class="text-3xl leading-tight font-light md:text-4xl lg:text-5xl">{{ entry.introText }}</h1>
	</section>

	{# Projects Section #}
	<section class="px-4 py-12 md:px-8 lg:px-12">
		<h2 class="mb-8 text-2xl font-medium">Recent Projects</h2>

		{% set projects = craft.entries().section('projects').limit(6).orderBy('postDate DESC').all() %}

		{% if projects|length %}
			<div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
				{% for project in projects %}
					{% include '_partials/entry/project-teaser' with {
						entry: project
					} %}
				{% endfor %}
			</div>
		{% else %}
			<p>
				No projects yet.
			</p>
		{% endif %}
	</section>

	{# About Box Section #}
	<section class="px-4 py-12 md:px-8 lg:px-12">
		<div class="flex flex-col items-center gap-8 rounded-lg bg-gray-100 p-8 md:flex-row">
			{% set aboutImage = entry.profileImage.one() %}
			{% if aboutImage %}
				<img
					src="{{ aboutImage.getUrl('w1200') }}"
					srcset="{{ macros.srcSet(aboutImage) }}"
					sizes="(min-width: 1024px) 25vw, 50vw"
					alt="{{ entry.calloutTitle }}"
					class="h-32 w-32 rounded-full object-cover"
					loading="lazy"
				/>
			{% endif %}

			<div class="flex-1">
				<h3 class="mb-2 text-xl font-medium">{{ entry.calloutTitle }}</h3>
				<div class="prose">
					{{ entry.calloutText }}
				</div>

				<div class="mt-4 flex gap-4">
					<a href="{{ url('about') }}" class="text-accent hover:underline">More about me</a>

					{% set resume = entry.resumeFile.one() %}
					{% if resume %}
						<a href="{{ resume.url }}" class="text-accent hover:underline" download>Download Resume</a>
					{% endif %}
				</div>
			</div>
		</div>
	</section>
{% endblock %}
